<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Owner Console - KLITIK CRAFT</title>
<link rel="icon" type="image/jpeg" href="foto.jpg">
<style>
*{box-sizing:border-box;font-family:Arial,sans-serif;margin:0;padding:0}
body, html{height:100%;background:#f5f5f5;}
.container{width:95%;max-width:1000px;margin:20px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.2);}
h2{color:#d4af37;text-align:center;margin-bottom:20px;}
form{display:flex;justify-content:center;gap:10px;margin-bottom:20px;}
input{padding:10px;border:1px solid #ccc;border-radius:8px;font-size:16px;}
.btn-login{padding:10px 15px;background:#d4af37;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:0.3s;}
.btn-login:hover{box-shadow:0 0 10px #d4af37;}
#alertBox{display:none;background:#f8d7da;color:#721c24;padding:10px;border-radius:8px;text-align:center;margin-bottom:10px;animation:none}
#alertBox.shake{animation:shake 0.3s;}
@keyframes shake{0%{transform:translateX(0);}25%{transform:translateX(-6px);}50%{transform:translateX(6px);}75%{transform:translateX(-6px);}100%{transform:translateX(0);}}
table{width:100%;border-collapse:collapse;margin-top:15px;}
th, td{border:1px solid #ddd;padding:10px;text-align:center;}
th{background:#d4af37;color:#fff;}
.successMsg{display:flex;align-items:center;justify-content:center;gap:8px;font-weight:bold;font-size:18px;opacity:0;transform:scale(0.5);transition: all 0.5s ease}
.successMsg.active{opacity:1;transform:scale(1);}
</style>
</head>
<body>

<div class="container" id="loginContainer">
  <h2>Owner Login - KLITIK CRAFT</h2>
  <div id="alertBox">Error</div>
  <form onsubmit="return false;">
    <input type="text" id="ownerUser" placeholder="Username">
    <input type="password" id="ownerPass" placeholder="Password">
    <button class="btn-login" onclick="ownerLogin()">Login</button>
  </form>
</div>

<div class="container" id="consoleContainer" style="display:none;">
  <h2>Owner Console</h2>
  <div class="successMsg" id="successBox">✅ Welcome Owner!</div>
  <table>
    <thead>
      <tr>
        <th>Time</th>
        <th>User</th>
        <th>Activity</th>
      </tr>
    </thead>
    <tbody id="logTable">
      <!-- Logs muncul di sini -->
    </tbody>
  </table>
</div>

<script>
// ALERT CUSTOM
function showAlert(msg){
  const a=document.getElementById("alertBox");
  a.innerText=msg;
  a.style.display="block";
  a.classList.add("shake");
  setTimeout(()=>{a.style.display="none";a.classList.remove("shake");},3000);
}

// SUCCESS ANIMASI
function showSuccess(msg){
  const s=document.getElementById("successBox");
  s.innerText="✅ "+msg;
  s.style.display="flex";
  s.classList.add("active");
  setTimeout(()=>{s.style.display="none";s.classList.remove("active");},1500);
}

// OWNER LOGIN
function ownerLogin(){
  const u=document.getElementById("ownerUser").value.trim();
  const p=document.getElementById("ownerPass").value.trim();
  
  // Hardcode owner credentials
  const OWNER_USER="owner";
  const OWNER_PASS="klitik123";

  if(u===OWNER_USER && p===OWNER_PASS){
    document.getElementById("loginContainer").style.display="none";
    document.getElementById("consoleContainer").style.display="block";
    showSuccess("Welcome Owner!");
    startLogging();
  }else{
    showAlert("Username atau Password salah!");
  }
}

// LOG SIMULASI AKTIVITAS USER
let logs = [];

function addLog(user, activity){
  const now = new Date().toLocaleString();
  logs.push({time: now, user: user, activity: activity});
  renderLogs();
}

function renderLogs(){
  const tbody = document.getElementById("logTable");
  tbody.innerHTML="";
  logs.forEach(log=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${log.time}</td><td>${log.user}</td><td>${log.activity}</td>`;
    tbody.appendChild(tr);
  });
}

// SIMULASI AKTIVITAS USER
function startLogging(){
  setInterval(()=>{
    // ambil data user dari localStorage
    const user = localStorage.getItem("mcName") || "Guest";
    const activities = [
      "Login Success",
      "Click Menu Ranks",
      "Click Menu Money",
      "Click Menu Skill",
      "Attempt Checkout",
      "Error Maintenance"
    ];
    const randomActivity = activities[Math.floor(Math.random()*activities.length)];
    addLog(user, randomActivity);
  },5000); // setiap 5 detik ada log baru (simulasi)
}
</script>

</body>
</html>
