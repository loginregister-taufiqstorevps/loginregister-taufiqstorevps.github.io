<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Console - KLITIK CRAFT</title>
<style>
body{background:#111;color:#fff;font-family:Arial,sans-serif;margin:0;padding:0}
.container{padding:20px;}
input, button{padding:8px;margin:5px;border-radius:6px;border:none;font-size:16px}
input{width:200px}
button{background:#d4af37;color:#111;font-weight:bold;cursor:pointer}
#terminal{background:#222;color:#0f0;padding:10px;margin-top:10px;height:300px;overflow-y:auto;border-radius:8px;font-family:monospace;}
</style>
</head>
<body>

<div class="container">
  <h2>Console KLITIK CRAFT</h2>
  <input type="text" id="cmdInput" placeholder="Ketik command..." />
  <button onclick="runCommand()">Execute</button>
  <div id="terminal"></div>
</div>

<script>
// Inisialisasi console users
if(!localStorage.getItem("consoleUsers")){
  const consoleUsers = {
    "OwnerGuy": {email:"owner@klitik.com", key:"123ABC"},
    "Admin01": {email:"admin01@klitik.com", key:"456DEF"}
  };
  localStorage.setItem("consoleUsers", JSON.stringify(consoleUsers));
}

// Terminal output helper
function log(msg){ 
  const t = document.getElementById("terminal");
  t.innerHTML += msg+"<br>"; 
  t.scrollTop = t.scrollHeight;
}

// Generate key acak
function generateKey(){
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let key="";
  for(let i=0;i<6;i++){ key+=chars.charAt(Math.floor(Math.random()*chars.length)); }
  return key;
}

// Eksekusi command
function runCommand(){
  const cmd = document.getElementById("cmdInput").value.trim();
  if(!cmd){ return; }
  log("> "+cmd);

  const users = JSON.parse(localStorage.getItem("consoleUsers")||"{}");

  // Command .addkey (username)
  if(cmd.startsWith(".addkey ")){
    const parts = cmd.split(" ");
    if(parts.length<2){ log("âš ï¸ Usage: .addkey (username)"); return; }
    const username = parts[1];
    if(!users[username]){ log("âš ï¸ Username tidak ditemukan!"); return; }
    const newKey = generateKey();
    users[username].key = newKey;
    localStorage.setItem("consoleUsers", JSON.stringify(users));
    log(`âœ… Key baru untuk ${username}: ${newKey}`);
    return;
  }

  // Command .showusers â†’ list semua user console
  if(cmd===".showusers"){
    log("ðŸ“‹ Daftar user console:");
    for(const u in users){
      log(`${u} | Email: ${users[u].email} | Key: ${users[u].key}`);
    }
    return;
  }

  log("âš ï¸ Command tidak dikenal!");
}
</script>

</body>
</html>
