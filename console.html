<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Console - KLITIK CRAFT</title>
<style>
body, html{margin:0;padding:0;height:100%;background:#2a0050;color:#0ff;font-family:monospace;overflow:hidden}
#consoleWrap{display:flex;height:100%}
#sidebar{width:220px;background:#3a0070;display:flex;flex-direction:column;padding:10px;gap:10px}
#sidebar button{padding:10px;background:#5a00a0;color:#fff;border:none;border-radius:6px;cursor:pointer}
#terminal{flex:1;background:#1b001f;padding:10px;overflow-y:auto;display:flex;flex-direction:column-reverse}
#inputWrap{position:fixed;bottom:0;width:100%;display:flex}
#cmdInput{flex:1;padding:10px;background:#111;color:#0ff;border:none;font-family:monospace;font-size:16px}
#cmdBtn{padding:10px;background:#5a00a0;color:#fff;border:none;cursor:pointer}
.logEntry{padding:2px 0}
.logSuccess{color:#0f0}
.logError{color:#f00}
</style>
</head>
<body>

<div id="consoleWrap">
  <div id="sidebar">
    <button onclick="serverToggle()">Matikan/Online Server Web</button>
    <button onclick="commandExample('/give rank taufiqdevelop owner')">Command Example</button>
  </div>
  <div id="terminal"></div>
</div>

<div id="inputWrap">
  <input id="cmdInput" placeholder="Masukan command..." onkeydown="if(event.key==='Enter'){runCommand();}">
  <button id="cmdBtn" onclick="runCommand()">Run</button>
</div>

<script>
const terminal=document.getElementById("terminal");
let serverOnline=true;
const users={};

// Fungsi log
function log(msg,type){const e=document.createElement("div");e.className="logEntry "+(type==="error"?"logError":type==="success"?"logSuccess":"");e.innerText=msg;terminal.prepend(e);}

// Toggle server web
function serverToggle(){
  serverOnline=!serverOnline;
  log("Server Web sekarang "+(serverOnline?"ONLINE":"MAINTENANCE"),"success");
  localStorage.setItem("serverOnline",serverOnline?"1":"0");
}

// Command example
function commandExample(cmd){log("Command dijalankan: "+cmd,"success");}

// Run input command
function runCommand(){
  const val=document.getElementById("cmdInput").value.trim();
  if(!val){return;}
  log(">> "+val,"success");
  document.getElementById("cmdInput").value="";

  const args=val.split(" ");
  const cmd=args[0].toLowerCase();

  if(cmd===".adduser"){
    const key=Math.random().toString(36).substring(2,10).toUpperCase();
    const user=args[1]||"unknown";
    users[user]={key:key,role:"user",limit:1};
    log("User "+user+" dibuat dengan key: "+key,"success");
  }
  else if(cmd===".addusername"){
    const name=args[1]; const key=args[2];
    if(!name||!key){log("Syntax salah!","error");return;}
    let found=false;
    for(const u in users){if(users[u].key===key){users[u].name=name;found=true;log("User "+name+" terdaftar dengan key "+key,"success");break;}}
    if(!found){log("Key tidak ditemukan!","error");}
  }
  else if(cmd===".change" && args[1]==="role"){
    const name=args[2]; const rank=args[3];
    if(users[name]){users[name].role=rank; log("Role "+rank+" diberikan ke "+name,"success");}
    else{log("User tidak ditemukan!","error");}
  }
  else if(cmd===".settings" && args[1]==="roles" && args[2]==="dashboard"){
    const ranks=args[3]; log("Akses dashboard untuk rank "+ranks+" diubah","success");
  }
  else if(cmd===".addlimit"){
    const rank=args[1]; const limit=args[2];
    log("Limit untuk rank "+rank+" diubah menjadi "+limit,"success");
  }
  else{
    log("Command tidak dikenal","error");
  }
}
</script>

</body>
</html>
